{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?7e02","webpack:///./src/App.vue?f3cc","webpack:///./src/components/Navbar.vue?4a6f","webpack:///src/components/Navbar.vue","webpack:///./src/components/Navbar.vue?9640","webpack:///./src/components/Navbar.vue","webpack:///./src/components/Sidebar.vue?68f8","webpack:///./src/services/api.js","webpack:///./src/services/friendsService.js","webpack:///src/components/Sidebar.vue","webpack:///./src/components/Sidebar.vue?d975","webpack:///./src/components/Sidebar.vue?3aa9","webpack:///./src/services/authenticationService.js","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue?2667","webpack:///./src/views/Home.vue?7f10","webpack:///src/views/Home.vue","webpack:///./src/views/Home.vue?493c","webpack:///./src/views/Home.vue","webpack:///./src/views/VideoChat.vue?ac3f","webpack:///src/views/VideoChat.vue","webpack:///./src/views/VideoChat.vue?9017","webpack:///./src/views/VideoChat.vue","webpack:///./src/views/Room.vue?8b4d","webpack:///src/views/Room.vue","webpack:///./src/views/Room.vue?4f58","webpack:///./src/views/Room.vue","webpack:///./src/views/Register.vue?40d2","webpack:///src/views/Register.vue","webpack:///./src/views/Register.vue?382a","webpack:///./src/views/Register.vue","webpack:///./src/views/Login.vue?e9d2","webpack:///src/views/Login.vue","webpack:///./src/views/Login.vue?5da6","webpack:///./src/views/Login.vue","webpack:///./src/views/Index.vue?9902","webpack:///src/views/Index.vue","webpack:///./src/views/Index.vue?4c85","webpack:///./src/views/Index.vue","webpack:///./src/views/Chat.vue?f2ba","webpack:///./src/components/ChatMessages.vue?6f5c","webpack:///src/components/ChatMessages.vue","webpack:///./src/components/ChatMessages.vue?281a","webpack:///./src/components/ChatMessages.vue","webpack:///./src/services/chatService.js","webpack:///src/views/Chat.vue","webpack:///./src/views/Chat.vue?6ed9","webpack:///./src/views/Chat.vue?72d9","webpack:///./src/views/Call.vue?3136","webpack:///src/views/Call.vue","webpack:///./src/views/Call.vue?427c","webpack:///./src/views/Call.vue","webpack:///./src/router/index.js","webpack:///./src/store/index.js","webpack:///./src/plugins/vuetify.js","webpack:///./src/main.js","webpack:///./src/views/Chat.vue?fb27","webpack:///./src/util/RTCService.js","webpack:///./src/components/Sidebar.vue?dea1"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","jsonpScriptSrc","p","exports","module","l","e","promises","installedChunkData","promise","Promise","resolve","reject","onScriptComplete","script","document","createElement","charset","timeout","nc","setAttribute","src","error","Error","event","onerror","onload","clearTimeout","chunk","errorType","type","realSrc","target","message","name","request","undefined","setTimeout","head","appendChild","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","err","console","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","model","callback","$$v","expression","_v","_s","caller","on","denyCall","acceptCall","staticRenderFns","$event","drawer","$store","state","username","scopedSlots","_u","fn","ref","_g","_b","signOut","_e","directives","rawName","isLoggedIn","size","component","VAppBar","VBtn","VIcon","VList","VListItem","VListItemAction","VListItemTitle","VMenu","VSpacer","VToolbarTitle","VToolbar","_l","f","addThreeDots","newFriendUsername","addFriend","alertType","log","process","axios","baseURL","payload","api","post","getFriends","VAlert","VContainer","VFlex","VLayout","VRow","VTextField","register","creds","login","automaticLogin","token","methods","$socket","client","emit","sender","reciver","dispatch","sockets","created","components","Navbar","Sidebar","VApp","VCard","VCardActions","VCardTitle","VDialog","VMain","room","socket","rooms","destroyed","VListItemContent","domProps","videoStream","remoteVideoStream","makeCall","constraints","video","audio","iceCandidates","iceConfiguration","iceServers","pc","navigator","mediaDevices","getUserMedia","RTCPeerConnection","MediaStream","mounted","$unsubscribe","$route","params","roomName","joinCall","mediaStream","user","id","localUsername","users","pcs","inCall","remoteVideoStreams","userJoinedRoom","userDisconnected","roomUsers","userJoinedCall","beforeDestroy","valid","nameRules","emailRules","email","passwordRules","password","errorMsg","goToLogin","$router","VForm","goToRegister","otherUsername","staticStyle","messages","newMessage","sendMessage","slot","class","isAuthorThis","user1","createdAt","content","props","Array","sendMsg","getMessages","onLoad","onKeyPress","scrollToBottom","callDenied","callAccept","addEventListener","watch","removeEventListener","ChatMsgs","VToolbarItems","otherUser","Vue","use","VueRouter","routes","path","Index","Home","Chat","Call","VideoChat","Register","Login","Room","router","Vuex","Store","inPrivateCall","callee","mutations","setUser","setCall","actions","commit","localStorage","setItem","removeItem","setPrivateCall","Vuetify","theme","themes","light","primary","secondary","dark","io","VueSocketIOExt","store","config","productionTip","vuetify","render","h","App","$mount","answer","remoteDesc","RTCSessionDescription","setRemoteDescription","mediaConstraints","createOffer","offer","setLocalDescription","onMessageOffer","createAnswer","onIceCandidate","candidate","oneIceConnectionChange","iceConnectionState","onMessageIceCandidate","iceCandidate","addIceCandidate","onTrack","addTrack","track","setupNewPc","onicecandidate","stop","myOnTrack","rvs","videoContains","newMediaStream","remoteStream","myOnConnChange","setLocalStream","getTracks","forEach"],"mappings":"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","file":"js/app~d0ae3f07.865f7af7.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app~d0ae3f07\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({\"about~6a3582c1\":\"about~6a3582c1\"}[chunkId]||chunkId) + \".\" + {\"about~6a3582c1\":\"e67860e2\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors~9c3c11b1\",\"chunk-vendors~2a42e354\",\"chunk-vendors~d21988b8\",\"chunk-vendors~b5906859\",\"chunk-vendors~b58f7129\",\"chunk-vendors~fdc6512a\",\"chunk-vendors~0605657e\",\"chunk-vendors~d2305125\",\"chunk-vendors~4a7e9e0b\",\"chunk-vendors~ce053847\",\"chunk-vendors~11c2601a\",\"chunk-vendors~ca4597b0\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',[_c('Navbar'),_c('v-main',{staticClass:\"mx-10\"},[_c('v-card',{staticClass:\"px-0\",attrs:{\"height\":\"90vh\",\"tile\":\"\",\"raised\":\"\"}},[_c('v-layout',{staticClass:\"mt-0 mx-0 height100\",attrs:{\"row\":\"\"}},[_c('v-flex',{staticClass:\"hidden-xs-only primary\",attrs:{\"sm3\":\"\",\"md2\":\"\"}},[_c('Sidebar')],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm9\":\"\",\"md10\":\"\"}},[_c('router-view')],1)],1)],1),_c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"290\"},model:{value:(_vm.call),callback:function ($$v) {_vm.call=$$v},expression:\"call\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"headline\"},[_vm._v(\" \"+_vm._s(_vm.caller)+\" vas zove. \")]),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"error\",\"text\":\"\"},on:{\"click\":_vm.denyCall}},[_vm._v(\" Poklopi \")]),_c('v-btn',{attrs:{\"color\":\"success\",\"text\":\"\"},on:{\"click\":_vm.acceptCall}},[_vm._v(\" Odgovori \")])],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-app-bar',{attrs:{\"text\":\"\",\"app\":\"\"}},[_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":function($event){_vm.drawer = !_vm.drawer}}},[_c('v-icon',{staticClass:\"grey--text\"},[_vm._v(\"mdi-menu\")])],1),_c('v-toolbar-title',{staticClass:\"text-uppercase grey--text\"},[_c('span',{staticClass:\"font-weight-light\"},[_vm._v(\" \"+_vm._s(_vm.$store.state.username)+\" \")])]),_c('v-spacer'),(this.$store.state.isLoggedIn)?_c('v-menu',{attrs:{\"offset-y\":\"\",\"rounded\":\"lg\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"icon\":\"\"}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(\"mdi-menu\")])],1)]}}],null,false,2322017526)},[_c('v-list',[_c('v-list-item',{attrs:{\"router\":\"\",\"to\":\"/settings\"}},[_c('v-list-item-action',[_c('v-icon',[_vm._v(\"mdi-cog\")])],1),_c('v-list-item-title',[_vm._v(\" Postavke \")])],1),_c('v-list-item',{attrs:{\"router\":\"\",\"to\":\"/\"},on:{\"click\":_vm.signOut}},[_c('v-list-item-action',[_c('v-icon',[_vm._v(\"mdi-logout\")])],1),_c('v-list-item-title',[_vm._v(\" Odjavi se \")])],1)],1)],1):_vm._e(),_c('v-btn',_vm._b({directives:[{name:\"show\",rawName:\"v-show\",value:(!this.$store.state.isLoggedIn),expression:\"!this.$store.state.isLoggedIn\"}],attrs:{\"color\":\"primary darken-1\",\"router\":\"\",\"to\":\"/register\"}},'v-btn',_vm.size,false),[_c('span',[_vm._v(\"Registriraj se\")]),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\"mdi-account-arrow-right\")])],1),_c('v-btn',_vm._b({directives:[{name:\"show\",rawName:\"v-show\",value:(!this.$store.state.isLoggedIn),expression:\"!this.$store.state.isLoggedIn\"}],attrs:{\"text\":\"\",\"color\":\"gray\",\"router\":\"\",\"to\":\"/login\"}},'v-btn',_vm.size,false),[_c('span',[_vm._v(\"Prijavi se\")]),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\"mdi-login\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<div>\n    <v-app-bar text app>\n        <v-btn text @click=\"drawer = !drawer\">\n            <v-icon class=\"grey--text\">mdi-menu</v-icon>\n        </v-btn>\n        <v-toolbar-title class=\"text-uppercase grey--text\">\n            <span class=\"font-weight-light\">\n                {{$store.state.username}}\n            </span>\n        </v-toolbar-title>\n        <v-spacer></v-spacer>\n        <v-menu offset-y v-if=\"this.$store.state.isLoggedIn\"\n            rounded=\"lg\">\n            <template v-slot:activator=\"{ on, attrs }\">\n                <v-btn\n                v-bind=\"attrs\"\n                v-on=\"on\"\n                icon\n                >\n                <v-icon>mdi-menu</v-icon>\n                </v-btn>\n            </template>\n            <v-list>\n                <v-list-item router to=\"/settings\">\n                    <v-list-item-action>\n                        <v-icon>mdi-cog</v-icon>\n                    </v-list-item-action>\n                    <v-list-item-title>\n                        Postavke\n                    </v-list-item-title>\n                </v-list-item>\n\n                <v-list-item @click=\"signOut\" router to='/'>\n                    <v-list-item-action>\n                        <v-icon>mdi-logout</v-icon>\n                    </v-list-item-action>\n                    <v-list-item-title>\n                        Odjavi se\n                    </v-list-item-title>\n                </v-list-item>\n            </v-list>\n        </v-menu>\n\n        <v-btn color=\"primary darken-1\"\n        v-show=\"!this.$store.state.isLoggedIn\"\n        router to=\"/register\" v-bind=\"size\">\n            <span>Registriraj se</span>\n            <v-icon right>mdi-account-arrow-right</v-icon>\n        </v-btn>\n        <v-btn text color=\"gray\"\n        v-show=\"!this.$store.state.isLoggedIn\"\n        router to=\"/login\" v-bind=\"size\">\n            <span>Prijavi se</span>\n            <v-icon right>mdi-login</v-icon>\n        </v-btn>\n    </v-app-bar>\n</div>\n\n</template>\n\n<script>\n    export default {\n        data() {\n            return {\n            }\n        },\n\n\n        computed: {\n            size () {\n                const size = {xs:'x-small',sm:'small',lg:'large',xl:'x-large'}[this.$vuetify.breakpoint.name];\n                return size ? { [size]: true } : {}\n            }\n        },\n\n        methods: {\n            signOut(){\n                this.$store.dispatch('signOut', {\n                    username: this.$store.state.username,\n                    email: this.$store.state.email\n                })\n                setTimeout(()=>location.reload(), 100)\n            }\n        }\n    }\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Navbar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Navbar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Navbar.vue?vue&type=template&id=2b1dfa4c&\"\nimport script from \"./Navbar.vue?vue&type=script&lang=js&\"\nexport * from \"./Navbar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAppBar } from 'vuetify/lib/components/VAppBar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemAction } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VAppBar,VBtn,VIcon,VList,VListItem,VListItemAction,VListItemTitle,VMenu,VSpacer,VToolbarTitle})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('v-row',{staticClass:\"mt-4\",attrs:{\"align\":\"center\",\"justify\":\"center\"}},[_c('p',[_vm._v(\"Prijatelji\")])]),_c('v-row',{staticClass:\"pa-0 ma-0\",attrs:{\"align\":\"center\",\"justify\":\"center\"}},[_c('v-list',{staticClass:\"primary pa-0 ma-0\"},_vm._l((_vm.friends),function(f){return _c('v-list-item',{key:f.username,staticClass:\"pa-0 ma-0\",attrs:{\"router\":\"\",\"to\":'/chat/'+f.username}},[_c('v-list-item-action',[_c('v-icon',[_vm._v(\"mdi-circle\")])],1),_c('v-list-item-title',{staticClass:\"caption\"},[_vm._v(\" \"+_vm._s(_vm.addThreeDots(f.username, 10))+\" \")])],1)}),1)],1),_c('v-row',{attrs:{\"align\":\"center\",\"justify\":\"center\"}},[_c('v-menu',{attrs:{\"offset-y\":\"\",\"close-on-content-click\":false,\"rounded\":\"lg\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"color\":\"primary darken-2\",\"small\":\"\"}},'v-btn',{attrs: attrs, size: _vm.size},false),on),[_vm._v(\" Dodaj prijatelja \")])]}}])},[_c('v-container',{staticClass:\"primary lighten-1\"},[_c('v-layout',{staticClass:\"py-2 px-2\",attrs:{\"row\":\"\",\"justify-space-between\":\"\",\"align-center\":\"\"}},[_c('v-flex',{attrs:{\"xs9\":\"\"}},[_c('v-text-field',{attrs:{\"dense\":\"\",\"placeholder\":\"Korisničko ime\",\"single-line\":\"\"},model:{value:(_vm.newFriendUsername),callback:function ($$v) {_vm.newFriendUsername=$$v},expression:\"newFriendUsername\"}})],1),_c('v-flex',{attrs:{\"xs3\":\"\"}},[_c('v-btn',{staticClass:\"secondary darken-3 ml-3\",attrs:{\"icon\":\"\"},on:{\"click\":_vm.addFriend}},[_c('v-icon',{attrs:{\"color\":\"white\"}},[_vm._v(\"mdi-plus\")])],1)],1)],1),_c('v-row',{attrs:{\"justify\":\"center\"}},[_c('v-alert',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.message),expression:\"message\"}],staticClass:\"caption\",attrs:{\"transition\":\"fade-transition\",\"border\":\"left\",\"dense\":\"\",\"type\":_vm.alertType}},[_vm._v(\" \"+_vm._s(_vm.message)+\" \")])],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import axios from 'axios'\n\n//spoj na backend server\nexport default () => {\n    console.log(process.env.VUE_APP_ENV_BASE_URL)\n    return axios.create({\n        baseURL: process.env.VUE_APP_ENV_BASE_URL\n    })\n}","import api from './api'\n\nexport default {\n  async addFriend(payload){\n    return api().post('/addFriend', payload)\n  },\n  async getFriends(payload){\n    return api().post('/getFriends', payload)\n  }\n}","<template>\n    <v-container>\n        <v-row align=\"center\" justify=\"center\" class=\"mt-4\">\n            <p>Prijatelji</p>\n        </v-row>\n\n        <v-row align=\"center\" justify=\"center\" class=\"pa-0 ma-0\">\n            <v-list class=\"primary pa-0 ma-0\">\n                <v-list-item v-for=\"f in friends\" :key=\"f.username\"\n                class=\"pa-0 ma-0\"\n                router :to=\"'/chat/'+f.username\">\n                    <v-list-item-action>\n                        <v-icon>mdi-circle</v-icon>\n                    </v-list-item-action>\n                    <v-list-item-title class=\"caption\">\n                        {{ addThreeDots(f.username, 10) }}\n                    </v-list-item-title>\n                </v-list-item>\n            </v-list>\n        </v-row>\n\n        <v-row align=\"center\" justify=\"center\">\n            <v-menu offset-y :close-on-content-click=\"false\"\n                rounded=\"lg\">\n                <template v-slot:activator=\"{ on, attrs }\">\n                    <v-btn\n                    color=\"primary darken-2\"\n                    v-bind=\"{attrs: attrs, size: size}\"\n                    v-on=\"on\"\n                    small\n                    >\n                    Dodaj prijatelja\n                    </v-btn>\n                </template>\n                <v-container class=\"primary lighten-1\">\n                    <v-layout row class=\"py-2 px-2\" justify-space-between align-center>\n                        <v-flex xs9>\n                            <v-text-field class=\"\"\n                                dense placeholder=\"Korisničko ime\"\n                                single-line v-model=\"newFriendUsername\">\n\n                            </v-text-field>\n                        </v-flex>\n                        <v-flex xs3>\n                            <v-btn icon class=\"secondary darken-3 ml-3\"\n                            @click=\"addFriend\">\n                                <v-icon color=\"white\">mdi-plus</v-icon>\n                            </v-btn>\n                        </v-flex>\n                            \n                    </v-layout>\n                    <v-row justify=\"center\">\n                        <v-alert\n                            transition=\"fade-transition\"\n                            border=\"left\"\n                            v-show=\"message\"\n                            dense\n                            :type=\"alertType\"\n                            class=\"caption\"\n                        >\n                            {{ message }}\n                        </v-alert>\n                    </v-row> \n                    \n                </v-container>\n            </v-menu>\n        </v-row>\n    </v-container>\n\n</template>\n\n<script>\nimport FService from '../services/friendsService'\n    export default {\n        data() {\n            return {\n                newFriendUsername: null,\n                message: null,\n                alertType: null,\n\n                friends: []\n            }\n        },\n\n\n        computed: {\n            size () {\n                const size = {xs:'x-small',sm:'small',lg:'large',xl:'x-large'}[this.$vuetify.breakpoint.name];\n                return size ? { [size]: true } : {}\n            }\n        },\n\n        methods: {\n            async addFriend(){\n                try {\n                    let data = (await FService.addFriend({\n                        token: localStorage.getItem('token'),\n                        otherUsername: this.newFriendUsername\n                    })).data\n                    this.alertType = 'success'\n                    this.message = data.message\n                    this.getFriends()\n                } catch (e){\n                    this.alertType = 'error'\n                    this.message = e.response.data.message\n                }\n                setTimeout(() => {\n                    this.message = null\n                }, 1600)\n                console.log(this.$store.state.username + ' dodaje ' + this.newFriendUsername)\n            }, \n\n            async getFriends(){\n                try {\n                let data = (await FService.getFriends({\n                    token: localStorage.getItem('token')\n                })).data\n                    this.friends = data.friends\n                } catch(e){\n                    console.log(e)\n                }\n            },\n\n            addThreeDots(text, chars){\n                if(text.length > chars){\n                    text = text.substring(0, chars) + '...'\n                }\n                return text\n            }\n        },\n\n        created: function() {\n            this.getFriends()\n        },\n\n\n        //on route change\n        watch:{\n            $route (){\n                console.log('route changed')\n                if(this.$store.state.isLoggedIn){\n                    console.log('gettam friends')\n                    this.getFriends()\n                } else {\n                    this.friends = []\n                }\n            }\n        }\n    }\n</script>\n\n<style scoped>\n    .text-overflow-dots{\n        text-overflow: ellipsis;\n        white-space: nowrap;\n        overflow: hidden;\n        width:100px; \n\n    }\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sidebar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sidebar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Sidebar.vue?vue&type=template&id=34d17a01&scoped=true&\"\nimport script from \"./Sidebar.vue?vue&type=script&lang=js&\"\nexport * from \"./Sidebar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Sidebar.vue?vue&type=style&index=0&id=34d17a01&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"34d17a01\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VFlex } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VLayout } from 'vuetify/lib/components/VGrid';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemAction } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VAlert,VBtn,VContainer,VFlex,VIcon,VLayout,VList,VListItem,VListItemAction,VListItemTitle,VMenu,VRow,VTextField})\n","import api from './api'\n\nexport default {\n  async register(creds){\n    return api().post('/register', creds)\n  },\n\n  async login(creds){\n    return api().post('/login', creds)\n  },\n\n  async automaticLogin(token){\n    return api().post('/automaticLogin', token)\n  }\n}","<template>\n  <v-app>\n    <Navbar></Navbar>\n    <v-main class=\"mx-10\">\n      <v-card height=\"90vh\" class=\"px-0\" tile raised>\n        <v-layout row class=\"mt-0 mx-0 height100\">\n          <v-flex sm3 md2 class=\"hidden-xs-only primary\">\n            <Sidebar></Sidebar>\n          </v-flex>\n\n          <v-flex xs12 sm9 md10>\n            <router-view></router-view>\n          </v-flex>\n        </v-layout>\n      </v-card>\n\n      <v-dialog\n        v-model=\"call\"\n        persistent\n        max-width=\"290\"\n      >\n        <v-card>\n          <v-card-title class=\"headline\">\n            {{ caller }} vas zove.\n          </v-card-title>\n          <v-card-actions>\n            <v-spacer></v-spacer>\n            <v-btn\n              color=\"error\"\n              text\n              @click=\"denyCall\"\n            >\n              Poklopi\n            </v-btn>\n            <v-btn\n              color=\"success\"\n              text\n              @click=\"acceptCall\"\n            >\n              Odgovori\n            </v-btn>\n          </v-card-actions>\n        </v-card>\n      </v-dialog>\n\n    </v-main>\n\n  </v-app>\n</template>\n\n<script>\nimport Navbar from './components/Navbar'\nimport Sidebar from './components/Sidebar'\n\nimport authServ from './services/authenticationService'\nexport default {\n  name: 'App',\n\n  data() {\n    return {\n      call: false,\n      caller: null\n    }\n  },\n\n\n\n  methods: {\n    async automaticLogin(){\n      let token = localStorage.getItem('token')\n      if(token){\n        console.log('token: ', token)\n        try {\n          let data = (await authServ.automaticLogin({token})).data\n\n          //postavi korisnika u vuex\n          this.$store.dispatch('setUser', {\n            creds: {username: data.user.username,\n            email: data.user.email},\n            token: data.token\n          })\n        } catch (e) {\n          console.log(e)\n        }\n      }\n    },\n\n    acceptCall(){\n      this.call = false\n\n      this.$socket.client.emit('call-accept', {\n        sender: this.$store.state.username,\n        reciver: this.caller\n      })\n\n      this.$store.dispatch('setPrivateCall', {callee: this.caller, caller: false})\n    },\n\n    denyCall(){\n      this.call = false\n\n      this.$socket.client.emit('call-denied', {\n        sender: this.$store.state.username,\n        reciver: this.caller\n      })\n\n      this.caller = null\n    }\n  },\n\n  sockets: {\n    async callRequest(sender) {\n      this.caller = sender\n      this.call = true\n    }\n  },\n\n  created: function() {\n    this.automaticLogin()\n  },\n\n  components: {\n    Navbar,\n    Sidebar\n  }\n}\n</script>\n\n\n<style>\n.height100 {\n  height: 100%;\n}\n.v-application {\n    background-color: #d3eaf8 !important;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=6b7cb208&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VApp } from 'vuetify/lib/components/VApp';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VFlex } from 'vuetify/lib/components/VGrid';\nimport { VLayout } from 'vuetify/lib/components/VGrid';\nimport { VMain } from 'vuetify/lib/components/VMain';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VApp,VBtn,VCard,VCardActions,VCardTitle,VDialog,VFlex,VLayout,VMain,VSpacer})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home\"},[_c('v-container',[_c('v-list',{attrs:{\"dense\":\"\"}},_vm._l((_vm.rooms),function(room){return _c('v-list-item',{key:room,attrs:{\"router\":\"\",\"to\":'/room/' + room}},[_c('v-list-item-action',[_c('v-icon',{attrs:{\"color\":\"\"}},[_vm._v(\"mdi-plus\")])],1),_c('v-list-item-content',[_c('v-list-item-title',{staticClass:\" caption\"},[_vm._v(\" \"+_vm._s(room)+\" \")])],1)],1)}),1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"home\">\n    <v-container>\n      <v-list dense>\n        <v-list-item v-for=\"room in rooms\" :key=\"room\"\n          router :to=\"'/room/' + room\">\n            <v-list-item-action>\n                <v-icon color=\"\">mdi-plus</v-icon>\n            </v-list-item-action>\n            <v-list-item-content>\n                <v-list-item-title class=\" caption\">\n                    {{ room }}\n                </v-list-item-title>\n            </v-list-item-content>\n        </v-list-item>\n      </v-list>\n    </v-container>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'Home',\n\n  data: ()=> {\n    return {\n      socket: null,\n\n      rooms: [],\n\n      username: null\n    }\n  },\n\n  methods: {\n\n  },\n  \n  sockets: {\n    rooms: function(rooms) {\n      console.log('rooms: ', rooms)\n      this.rooms = rooms\n    }\n  },\n\n  created: function() {\n    this.$socket.client.emit('get-rooms')\n  },\n\n  destroyed: function() {\n  },\n\n\n\n  components: {\n  }\n}\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=279bf794&scoped=true&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"279bf794\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemAction } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\ninstallComponents(component, {VContainer,VIcon,VList,VListItem,VListItemAction,VListItemContent,VListItemTitle})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home\"},[_c('video',{attrs:{\"autoplay\":\"\",\"playsinline\":\"\",\"controls\":\"false\"},domProps:{\"srcObject\":_vm.videoStream}}),_c('video',{attrs:{\"autoplay\":\"\",\"playsinline\":\"\",\"controls\":\"false\"},domProps:{\"srcObject\":_vm.remoteVideoStream}}),_c('button',{on:{\"click\":_vm.makeCall}},[_vm._v(\"Make call\")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"home\">\n    <video :srcObject.prop=\"videoStream\" autoplay \n    playsinline controls=\"false\"></video>\n\n    <video :srcObject.prop=\"remoteVideoStream\" autoplay \n    playsinline controls=\"false\"></video>\n\n    <button @click=\"makeCall\">Make call</button>\n  </div>\n</template>\n\n<script>\nimport RTCService from '../util/RTCService'\nexport default {\n  name: 'Home',\n\n  data: ()=> {\n    return {\n      constraints: {\n        video: true,\n        audio: true\n      },\n\n      videoStream: null,\n      remoteVideoStream: null,\n\n      \n      iceCandidates: [],\n      iceConfiguration: {\n        iceServers: [\n          {\n            urls: ['stun:stun.l.google.com:19302']\n          },\n          {\n              urls: [process.env.VUE_APP_ENV_TURN],\n              username: process.env.VUE_APP_ENV_TURN_USERNAME,\n              credential: process.env.VUE_APP_ENV_TURN_CREDENTIAL\n          }\n        ]\n      },\n      pc: null\n    }\n  },\n\n  sockets: {\n    message: async function(message) {\n      if (message.offer) {\n        console.log('Got an offer')\n        this.pc.setRemoteDescription(new RTCSessionDescription(message.offer));\n        const answer = await this.pc.createAnswer();\n        \n        await this.pc.setLocalDescription(answer)\n        this.$socket.emit('answer', answer)\n      } else if (message.iceCandidate) {\n        console.log('Got and ice candidate through message')\n        try {\n        console.log('Addin ice candidate to peer connection')\n        await this.pc.addIceCandidate(message.iceCandidate);\n        } catch (e) {\n        console.error('Error adding received ice candidate', e);\n        }\n      }\n    }\n  },\n\n  methods: {\n    async makeCall() {\n      //RTCServickeCall(this.pc, this.socket)\n      console.log('Making call')\n      this.$socket.$subscribe('message', async message => {\n        if (message.answer) {\n          console.log('Got an answer')\n          const remoteDesc = new RTCSessionDescription(message.answer)\n          await this.pc.setRemoteDescription(remoteDesc)\n        }\n      })\n\n      var mediaConstraints = {\n      'offerToReceiveAudio': true,\n      'offerToReceiveVideo': true    \n      };\n\n      const offer = await this.pc.createOffer(mediaConstraints)\n      await this.pc.setLocalDescription(offer)\n      this.$socket.client.emit('offer', offer)\n    }\n  },\n\n  created: function() {\n    navigator.mediaDevices.getUserMedia(this.constraints)\n    .then(stream => {\n        console.log('Got MediaStream:', stream)\n        this.videoStream = stream;\n        //add the tracks to RTCPeerConnection\n        this.videoStream.getTracks().forEach(track => {\n          this.pc.addTrack(track, this.videoStream)\n          console.log('Adding track to peer connection!')\n        })\n    })\n    .catch(error => {\n        console.error('Error accessing media devices.', error)\n    });\n\n    //const configuration = {'iceServers': [{'urls': 'stun:stun.l.google.com:19302'}]}\n    this.pc = new RTCPeerConnection(this.iceConfiguration);\n  \n    RTCService.onMessageOffer(this.pc, this.$socket.client)\n    // Listen for local ICE candidates on the local RTCPeerConnection\n    RTCService.onIceCandidate(this.pc, this.$socket.client)\n\n    // Listen for connectionstatechange on the local RTCPeerConnection\n    RTCService.oneIceConnectionChange(this.pc)\n\n    //get the remote stream\n    this.remoteVideoStream = new MediaStream()\n    RTCService.onTrack(this.pc, this.remoteVideoStream)\n  },\n\n  mounted: function() {\n  },\n\n  destroyed: function() {\n    this.$socket.$unsubscribe('message')\n  }\n}\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VideoChat.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VideoChat.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VideoChat.vue?vue&type=template&id=bddcbe94&scoped=true&\"\nimport script from \"./VideoChat.vue?vue&type=script&lang=js&\"\nexport * from \"./VideoChat.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"bddcbe94\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"room\"},[_c('h1',[_vm._v(_vm._s(_vm.$route.params.roomName))]),_c('v-btn',{on:{\"click\":_vm.joinCall}},[_vm._v(\"Join call\")]),(_vm.inCall)?_c('video',{attrs:{\"autoplay\":\"\",\"playsinline\":\"\",\"controls\":\"false\"},domProps:{\"srcObject\":_vm.videoStream}}):_vm._e(),(_vm.inCall)?_c('div',_vm._l((_vm.remoteVideoStreams),function(remoteVideoStream){return _c('video',{key:remoteVideoStream.username,attrs:{\"autoplay\":\"\",\"playsinline\":\"\",\"controls\":\"false\"},domProps:{\"srcObject\":remoteVideoStream.mediaStream}})}),0):_vm._e(),_c('v-list',{attrs:{\"dense\":\"\"}},_vm._l((_vm.users),function(user){return _c('v-list-item',{key:user.id},[_c('v-list-item-action',[_c('v-icon',{attrs:{\"color\":\"white\"}},[_vm._v(\"mdi-plus\")])],1),_c('v-list-item-content',[_c('v-list-item-title',{staticClass:\"white--text caption\"},[_vm._v(\" \"+_vm._s(user.username)+\" \")])],1)],1)}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"room\">\n    <h1>{{$route.params.roomName}}</h1>\n\n    <v-btn @click=\"joinCall\">Join call</v-btn>\n\n    <video v-if=\"inCall\" :srcObject.prop=\"videoStream\" autoplay \n    playsinline controls=\"false\"></video>\n\n    <div v-if=\"inCall\">\n      <video  v-for=\"remoteVideoStream in remoteVideoStreams\"\n        :key=\"remoteVideoStream.username\"\n        :srcObject.prop=\"remoteVideoStream.mediaStream\" autoplay \n        playsinline controls=\"false\">\n      </video>\n    </div>\n    \n\n    <v-list dense>\n      <v-list-item v-for=\"user in users\" :key=\"user.id\">\n          <v-list-item-action>\n              <v-icon color=\"white\">mdi-plus</v-icon>\n          </v-list-item-action>\n          <v-list-item-content>\n              <v-list-item-title class=\"white--text caption\">\n                  {{ user.username }}\n              </v-list-item-title>\n          </v-list-item-content>\n      </v-list-item>\n    </v-list>\n\n  </div>\n</template>\n\n<script>\nimport RTCService from '../util/RTCService'\nexport default {\n  name: 'Room',\n\n  data: ()=> {\n    return {\n      localUsername: null,\n      users: [],\n      pcs: null,\n\n      room: null,\n\n      constraints: {\n        video: true,\n        audio: true\n      },\n\n      videoStream: null,\n      inCall: false,\n\n      remoteVideoStreams: [],\n\n      iceConfiguration: {\n        iceServers: [\n          {\n            urls: ['stun:stun.l.google.com:19302']\n          },\n          {\n              urls: [process.env.VUE_APP_ENV_TURN],\n              username: process.env.VUE_APP_ENV_TURN_USERNAME,\n              credential: process.env.VUE_APP_ENV_TURN_CREDENTIAL\n          }\n        ]\n      }\n    }\n  },\n\n  methods: {\n    async joinCall(){\n      //create pcs map\n      this.pcs = new Map()\n      this.inCall = true\n\n      this.$socket.client.emit('user-joined-call', {username: this.localUsername})\n\n      //onMessageIceCandidate\n      this.$socket.$subscribe('message', async ({message}) => {\n        if (message.iceCandidate && message.reciver === this.localUsername) {\n          try {\n            console.log('Addin ice candidate to peer connection, sender: '+message.sender+', reciver: '+message.reciver)\n            await this.pcs.get(message.sender).addIceCandidate(message.iceCandidate);\n          } catch (e) {\n            console.error('Error adding received ice candidate', e);\n          }\n        }\n      })\n      \n      //--- on answer ---\n      this.$socket.$subscribe('message', async ({message}) => {\n        if (message.answer && message.reciver === this.localUsername) {\n          console.log('Got an answer from ', message.sender)\n          const remoteDesc = new RTCSessionDescription(message.answer)\n          //quick fix before upgrading the signaling (correct users get correct signals) \n          if(!this.pcs.get(message.sender).currentRemoteDescription)\n            await this.pcs.get(message.sender).setRemoteDescription(remoteDesc)\n        }\n      })\n\n\n\n      //--- on offer ---\n      this.$socket.$subscribe('message', async ({message}) => {\n        if(message.offer && message.reciver === this.localUsername){\n          console.log('Got an offer from', message.sender)\n          let pc = new RTCPeerConnection(this.iceConfiguration)\n          this.pcs.set(message.sender, pc)\n\n          RTCService.setLocalStream(pc, this.videoStream)\n          RTCService.myOnTrack(message.sender, pc, this.remoteVideoStreams)\n          RTCService.setupNewPc(pc, this.localUsername, message.sender, this.$socket.client)\n\n          \n          \n          RTCService.myOnConnChange(pc)\n\n          await pc.setRemoteDescription(new RTCSessionDescription(message.offer))\n\n          const answer = await pc.createAnswer()\n\n          await pc.setLocalDescription(answer)\n          this.$socket.client.emit('answer', {answer: answer,\n            sender: this.localUsername, reciver: message.sender})\n        }\n      })\n      \n    }\n  },\n\n  sockets: {\n    userJoinedRoom: function(user) {\n      console.log('User joined room', user)\n    },\n    userDisconnected: function(user) {\n      console.log('User left the room', user)\n    },\n    roomUsers: function(users) {\n      console.log('Updated users in the room', users)\n      this.users = users\n    },\n    userJoinedCall: async function(user) {\n      if(!this.inCall) return\n      let pc = new RTCPeerConnection(this.iceConfiguration)\n      RTCService.setLocalStream(pc, this.videoStream)\n      this.pcs.set(user.username, pc)\n\n      RTCService.myOnTrack(user.username, pc, this.remoteVideoStreams)\n\n      RTCService.setupNewPc(pc, this.localUsername, user.username, this.$socket.client)\n      \n      RTCService.myOnConnChange(pc)\n\n      //create offer\n      var mediaConstraints = {\n        'offerToReceiveAudio': true,\n        'offerToReceiveVideo': true    \n      }\n      console.log('Creating offer')\n      const offer = await pc.createOffer(mediaConstraints)\n      \n      //set local and remote descriptions\n      await pc.setLocalDescription(offer)\n      this.$socket.client.emit('offer', {offer: offer, sender: this.localUsername, reciver: user.username})\n    }\n  },\n\n  created: function() {\n    this.room = this.$route.params.roomName\n    this.localUsername = this.$store.state.username\n\n    //ask for camera and mic access\n    navigator.mediaDevices.getUserMedia(this.constraints)\n    .then(stream => {\n        this.videoStream = stream\n    })\n    .catch(error => {\n        console.error('Error accessing media devices.', error)\n    })\n\n    this.$socket.client.emit('join-room', {roomName: this.room, username: this.$store.state.username})\n  },\n\n  beforeDestroy: function() {\n    console.log('Destroy room', this.room)\n    this.$socket.client.emit('leave-room', this.room)\n  }\n}\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Room.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Room.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Room.vue?vue&type=template&id=c4734c32&scoped=true&\"\nimport script from \"./Room.vue?vue&type=script&lang=js&\"\nexport * from \"./Room.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c4734c32\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemAction } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\ninstallComponents(component, {VBtn,VIcon,VList,VListItem,VListItemAction,VListItemContent,VListItemTitle})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"register\"},[_c('v-container',[_c('p',{staticClass:\"primary--text text--darken-4 display-1\"},[_vm._v(\"Registracija\")]),_c('v-form',{model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-container',[_c('v-text-field',{attrs:{\"rules\":_vm.nameRules,\"label\":\"Korisničko ime\",\"required\":\"\"},model:{value:(_vm.username),callback:function ($$v) {_vm.username=$$v},expression:\"username\"}}),_c('v-text-field',{attrs:{\"rules\":_vm.emailRules,\"label\":\"E-mail\",\"required\":\"\"},model:{value:(_vm.email),callback:function ($$v) {_vm.email=$$v},expression:\"email\"}}),_c('v-text-field',{attrs:{\"type\":\"password\",\"label\":\"Lozinka\",\"rules\":_vm.passwordRules,\"required\":\"\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}})],1)],1),_c('v-alert',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.errorMsg),expression:\"errorMsg\"}],attrs:{\"border\":\"left\",\"color\":\"red lighten-2\",\"dense\":\"\",\"type\":\"error\",\"outlined\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.errorMsg)+\" \")]),_c('v-container',[_c('v-btn',{staticClass:\"ml-2 mr-1\",attrs:{\"disabled\":!_vm.valid,\"color\":\"primary\"},on:{\"click\":_vm.register}},[_vm._v(\" Registriraj se \")]),_c('v-btn',{attrs:{\"outlined\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.goToLogin}},[_vm._v(\" Već imaš račun? \")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"register\">\n    <v-container>\n      <p class=\"primary--text text--darken-4 display-1\">Registracija</p>\n      <v-form v-model=\"valid\">\n        <v-container>\n          <v-text-field\n            v-model=\"username\"\n            :rules=\"nameRules\"\n            label=\"Korisničko ime\"\n            required\n          ></v-text-field>\n\n          <v-text-field\n            v-model=\"email\"\n            :rules=\"emailRules\"\n            label=\"E-mail\"\n            required\n          ></v-text-field>\n\n          <v-text-field\n            v-model=\"password\"\n            type=\"password\"\n            label=\"Lozinka\"\n            :rules=\"passwordRules\"\n            required\n          ></v-text-field>\n        </v-container>\n      </v-form>\n      <v-alert\n        border=\"left\"\n        color=\"red lighten-2\"\n        v-show=\"errorMsg\"\n        dense\n        type=\"error\"\n        outlined\n      >\n        {{ errorMsg }}\n      </v-alert>\n\n      <v-container>\n        <v-btn\n          :disabled=\"!valid\"\n          color=\"primary\"\n          class=\"ml-2 mr-1\"\n          @click=\"register\"\n        >\n          Registriraj se\n        </v-btn>\n\n        <v-btn\n          outlined\n          color=\"primary\"\n          class=\"\"\n          @click=\"goToLogin\"\n        >\n          Već imaš račun?\n        </v-btn>\n      </v-container>\n    </v-container>\n  </div>\n\n\n</template>\n\n<script>\nimport authServ from '../services/authenticationService'\nexport default {\n  name: 'Register',\n\n  data: ()=> {\n    return {\n      valid: false,\n      username: null,\n      email: null,\n      password: null,\n\n      errorMsg: null,\n\n      nameRules: [\n        v => !!v || 'Korisničko ime je obavezno'\n      ],\n\n      emailRules: [\n        v => !!v || 'E-mail je obavezan',\n        v => /.+@.+/.test(v) || 'E-mail mora biti ispravan',\n      ],\n\n      passwordRules: [\n        v => !!v || 'Lozinka je obavezna'\n      ]\n    }\n  },\n\n  methods: {\n    async register() {\n      this.errorMsg = null\n      try {\n        let data = (await authServ.register({\n          username: this.username,\n          email: this.email,\n          password: this.password\n        })).data\n\n        //postavi korisnika u vuex\n        this.$store.dispatch('setUser', {\n          creds: {username: data.user.username,\n          email: data.user.email},\n          token: data.token\n        })\n\n        this.$router.push('/')\n      } catch (e) {\n        this.errorMsg = e.response.data.message\n      }\n    },\n\n    goToLogin() {\n      this.$router.push('/login')\n    }\n  },\n\n  created: function() {\n  },\n\n  destroyed: function() {\n  },\n\n  components: {\n  }\n}\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Register.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Register.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Register.vue?vue&type=template&id=97c1f230&scoped=true&\"\nimport script from \"./Register.vue?vue&type=script&lang=js&\"\nexport * from \"./Register.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"97c1f230\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VAlert,VBtn,VContainer,VForm,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login\"},[_c('v-container',[_c('p',{staticClass:\"primary--text text--darken-4 display-1\"},[_vm._v(\"Prijava\")]),_c('v-form',{model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-container',[_c('v-text-field',{attrs:{\"rules\":_vm.nameRules,\"label\":\"Korisničko ime\",\"required\":\"\"},model:{value:(_vm.username),callback:function ($$v) {_vm.username=$$v},expression:\"username\"}}),_c('v-text-field',{attrs:{\"label\":\"Lozinka\",\"rules\":_vm.passwordRules,\"type\":\"password\",\"required\":\"\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}})],1)],1),_c('v-alert',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.errorMsg),expression:\"errorMsg\"}],attrs:{\"border\":\"left\",\"color\":\"red lighten-2\",\"dense\":\"\",\"type\":\"error\",\"outlined\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.errorMsg)+\" \")]),_c('v-container',[_c('v-btn',{staticClass:\"mr-1 ml-2\",attrs:{\"disabled\":!_vm.valid,\"color\":\"primary\"},on:{\"click\":_vm.login}},[_vm._v(\" Prijavi se \")]),_c('v-btn',{attrs:{\"outlined\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.goToRegister}},[_vm._v(\" Nemaš račun? \")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"login\">\n    <v-container>\n      <p class=\"primary--text text--darken-4 display-1\">Prijava</p>\n      <v-form v-model=\"valid\">\n        <v-container>\n          <v-text-field\n            v-model=\"username\"\n            :rules=\"nameRules\"\n            label=\"Korisničko ime\"\n            required\n          ></v-text-field>\n\n          <v-text-field\n            v-model=\"password\"\n            label=\"Lozinka\"\n            :rules=\"passwordRules\"\n            type=\"password\"\n            required\n          ></v-text-field>\n        </v-container>\n      </v-form>\n\n      <v-alert\n        border=\"left\"\n        color=\"red lighten-2\"\n        v-show=\"errorMsg\"\n        dense\n        type=\"error\"\n        outlined\n      >\n        {{ errorMsg }}\n      </v-alert>\n\n      <v-container>\n            <v-btn\n              :disabled=\"!valid\"\n              color=\"primary\"\n              class=\"mr-1 ml-2\"\n              @click=\"login\"\n            >\n              Prijavi se\n            </v-btn>\n\n            <v-btn\n              outlined\n              color=\"primary\"\n              class=\"\"\n              @click=\"goToRegister\"\n            >\n              Nemaš račun?\n            </v-btn>\n\n      </v-container>\n    </v-container>\n  </div>\n</template>\n\n<script>\nimport authServ from '../services/authenticationService'\nexport default {\n  name: 'Login',\n\n  data: ()=> {\n    return {\n      valid: false,\n      username: null,\n      password: null,\n\n      errorMsg: null,\n\n      nameRules: [\n        v => !!v || 'Korisničko ime je obavezno'\n      ],\n\n      passwordRules: [\n        v => !!v || 'Lozinka je obavezna'\n      ]\n    }\n  },\n\n  methods: {\n    async login() {\n      this.errorMsg = null\n      try {\n        let data = (await authServ.login({\n          username: this.username,\n          password: this.password\n        })).data\n\n        //postavi korisnika u vuex\n        this.$store.dispatch('setUser', {\n          creds: {username: data.user.username,\n          email: data.user.email},\n          token: data.token\n        })\n\n        this.$router.push('/')\n      } catch (e) {\n        this.errorMsg = e.response.data.message\n      }\n    },\n\n    goToRegister() {\n      this.$router.push('/register')\n    }\n  },\n\n  created: function() {\n  },\n\n  destroyed: function() {\n  },\n\n  components: {\n  }\n}\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=b46708ae&scoped=true&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b46708ae\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VAlert,VBtn,VContainer,VForm,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('p',{staticClass:\"subtitle\"},[_vm._v(\"Index\")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-container>\n      <p class=\"subtitle\">Index</p>\n    </v-container>\n</template>\n\n<script>\nexport default {\n  name: 'Index',\n\n  data: ()=> {\n    return {\n    }\n  },\n\n  methods: {\n\n  },\n  \n  sockets: {\n\n  },\n\n  created: function() {\n  },\n\n  destroyed: function() {\n  },\n\n\n\n  components: {\n  }\n}\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Index.vue?vue&type=template&id=a4610bbe&scoped=true&\"\nimport script from \"./Index.vue?vue&type=script&lang=js&\"\nexport * from \"./Index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a4610bbe\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VContainer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VContainer})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home height100\"},[_c('v-toolbar',{staticClass:\"secondary\"},[_c('v-toolbar-title',[_vm._v(\" \"+_vm._s(_vm.otherUsername)+\" \")]),_c('v-spacer'),_c('v-toolbar-items',[_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":_vm.call}},[_c('v-icon',[_vm._v(\"mdi-phone\")])],1)],1)],1),_c('v-container',{staticClass:\"px-3 pt-4 mx-0\",staticStyle:{\"max-height\":\"100%\"}},[_c('ChatMsgs',{ref:\"chat-msgs\",staticClass:\"overflow-y-auto\",staticStyle:{\"max-height\":\"700px\"},attrs:{\"messages\":_vm.messages}}),_c('v-text-field',{model:{value:(_vm.newMessage),callback:function ($$v) {_vm.newMessage=$$v},expression:\"newMessage\"}},[_c('v-btn',{attrs:{\"slot\":\"append\"},on:{\"click\":_vm.sendMessage},slot:\"append\"},[_c('v-icon',[_vm._v(\"mdi-send\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('v-layout',{attrs:{\"row\":\"\"}},_vm._l((_vm.messages),function(m){return _c('v-flex',{key:m.id,attrs:{\"xs12\":\"\"}},[_c('v-card',{staticClass:\"mt-2 mr-2 pa-1\",class:{'ml-10 primary lighten-1': _vm.isAuthorThis(m.user1.username),\n                                                                    'mr-10': !_vm.isAuthorThis(m.user1.username) },attrs:{\"outlined\":\"\",\"elevation\":\"1\"}},[_c('v-layout',{staticClass:\"pa-0 ma-0\",attrs:{\"row\":\"\",\"justify-space-between\":\"\",\"align-content-space-between\":\"\"}},[_c('v-flex',{attrs:{\"xs8\":\"\"}},[_c('p',{staticClass:\"subtitle primary--text text--darken-2\"},[_vm._v(_vm._s(m.user1.username))])]),_c('v-flex',{staticClass:\"caption grey--text\",attrs:{\"xs4\":\"\"}},[_c('p',[_vm._v(_vm._s(m.createdAt))])]),_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('p',[_vm._v(_vm._s(m.content))])])],1)],1)],1)}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container>\n    <v-layout row >\n      <v-flex v-for=\"m in messages\" :key=\"m.id\"\n        xs12>\n        <v-card outlined elevation=\"1\" class=\"mt-2 mr-2 pa-1\" :class=\"{'ml-10 primary lighten-1': isAuthorThis(m.user1.username),\n                                                                      'mr-10': !isAuthorThis(m.user1.username) }\">\n          <v-layout row justify-space-between align-content-space-between class=\"pa-0 ma-0\">\n            <v-flex xs8>\n              <p class=\"subtitle primary--text text--darken-2\">{{m.user1.username}}</p>\n            </v-flex>\n            <v-flex xs4 class=\"caption grey--text\">\n              <p>{{m.createdAt}}</p>\n            </v-flex>\n\n            <v-flex xs12>\n              <p>{{m.content}}</p>\n            </v-flex>\n          </v-layout>\n        </v-card>\n      </v-flex>\n    </v-layout>\n  </v-container>\n</template>\n\n<script>\n\nexport default ({\n  data:() => {\n    return {\n    }\n  },\n\n  props: {\n    //id, createdAt, content, sender\n    messages: Array\n  },\n\n  methods: {\n    isAuthorThis(username){\n      return this.$store.state.username === username\n    }\n  },\n\n  created: function() {\n  }\n})\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatMessages.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatMessages.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChatMessages.vue?vue&type=template&id=016c4671&\"\nimport script from \"./ChatMessages.vue?vue&type=script&lang=js&\"\nexport * from \"./ChatMessages.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VFlex } from 'vuetify/lib/components/VGrid';\nimport { VLayout } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VCard,VContainer,VFlex,VLayout})\n","import api from './api'\n\nexport default {\n  async sendMsg(payload){\n    return api().post('/sendMessage', payload)\n  },\n  async getMessages(payload){\n    return api().post('/getMessages', payload)\n  }\n}","<template>\n  <div class=\"home height100\">\n    <v-toolbar class=\"secondary\">\n      <v-toolbar-title>\n        {{otherUsername}}\n      </v-toolbar-title>\n\n      <v-spacer></v-spacer>\n\n      <v-toolbar-items>\n        <v-btn icon @click=\"call\">\n          <v-icon>mdi-phone</v-icon>\n        </v-btn>\n      </v-toolbar-items>\n    </v-toolbar>\n    <v-container class=\"px-3 pt-4 mx-0\" style=\"max-height: 100%\">\n      \n      <ChatMsgs style=\"max-height: 700px\" ref=\"chat-msgs\"\n    class=\"overflow-y-auto\" :messages=\"messages\"></ChatMsgs>\n\n        \n    \n      <v-text-field v-model=\"newMessage\" class=\"\">\n        <v-btn slot=\"append\" @click=\"sendMessage\">\n          <v-icon>mdi-send</v-icon>\n        </v-btn>\n      </v-text-field>\n    \n      \n    </v-container>\n  </div>\n</template>\n\n<script>\nimport ChatMsgs from '../components/ChatMessages'\n\nimport MsgServ from '../services/chatService'\nexport default {\n  name: 'Home',\n\n  data: ()=> {\n    return {\n      otherUsername: null,\n      newMessage: null,\n      messages: []\n    }\n  },\n\n  methods: {\n    async sendMessage(){\n      if(!this.newMessage) return\n      this.newMessage = this.newMessage.trim()\n      if(this.newMessage === '') return\n      \n\n      let payload = {\n        content: this.newMessage,\n        senderToken: localStorage.getItem('token'),\n        reciverUsername: this.otherUsername\n      }\n\n      let msg = {\n        content: this.newMessage,\n        user1: {\n          username: this.$store.state.username\n        },\n        //TODO kako da postavim id? (mogu nakon slanja poruke httpom)\n        //cekati i oda je poslati socketom\n        id: Math.random() * 10000000,\n        createdAt: new Date()\n      }\n      this.messages.push(msg)\n      this.scrollToBottom('chat-msgs')\n\n      this.$socket.client.emit('new-message', {\n        username: this.otherUsername,\n        msg: msg\n        })\n\n      this.newMessage = null\n\n      try{\n        let data = (await MsgServ.sendMsg(payload)).data\n        console.log(data)\n      }catch(e){\n        console.log(e)\n      }\n    },\n\n    async getMessages(){\n      let payload = {\n        token: localStorage.getItem('token'),\n        otherUsername: this.otherUsername\n      }\n\n      try{\n        let data = (await MsgServ.getMessages(payload)).data\n        console.log(data)\n\n        this.messages = data.chatMessages\n        this.scrollToBottom('chat-msgs')\n      }catch(e){\n        console.log(e)\n      }\n    },\n\n    call(){\n      this.$socket.client.emit('call-request', {\n        sender: this.$store.state.username,\n        reciver: this.otherUsername\n      })\n    },\n\n    onLoad(){\n      this.otherUsername = this.$route.params.username\n      this.getMessages()\n    },\n    onKeyPress(e) {\n      if(e.key === 'Enter'){\n        this.sendMessage()\n      }\n    },\n\n    scrollToBottom(ref){\n      setTimeout(() => {\n        this.$refs[ref].$el.scrollTop = this.$refs[ref].$el.scrollHeight\n      }, 50)\n      \n    }\n  },\n  \n  sockets: {\n    newMessage: async function(msg) {\n      console.log('dobijena poruka preko socketa: ', msg)\n      this.messages.push(msg)\n      this.scrollToBottom('chat-msgs')\n    },\n\n    callDenied: async function(sender) {\n      console.log('Poziv odbijen od ', sender)\n\n      //TODO\n    },\n\n    callAccept: async function(sender) {\n      console.log('Poziv prihvaćen od ', sender)\n\n      this.$store.dispatch('setPrivateCall', {callee: sender, caller: true})\n    }\n  },\n\n  created: function() {\n    this.onLoad()\n\n    document.addEventListener('keydown', this.onKeyPress)\n  },\n\n  //on route change\n  watch:{\n    $route (to, from){\n      console.log('In chat',to,from)\n      if(to.name === from.name){\n        this.onLoad()\n      }\n    }\n  },\n\n  destroyed: function() {\n    document.removeEventListener('keydown', this.onKeyPress)\n  },\n\n\n\n  components: {\n    ChatMsgs\n  }\n}\n</script>\n\n<style scoped>\n.height100 {\n  height: 100%;\n}\n\n.message-sender {\n  position: absolute;\n  bottom: 0px;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Chat.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Chat.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Chat.vue?vue&type=template&id=5e4f9e70&scoped=true&\"\nimport script from \"./Chat.vue?vue&type=script&lang=js&\"\nexport * from \"./Chat.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Chat.vue?vue&type=style&index=0&id=5e4f9e70&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5e4f9e70\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarItems } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VBtn,VContainer,VIcon,VSpacer,VTextField,VToolbar,VToolbarItems,VToolbarTitle})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"Call\"},[_c('p',[_vm._v(_vm._s(_vm.$route.params.username))]),_c('video',{attrs:{\"autoplay\":\"\",\"playsinline\":\"\",\"controls\":\"false\"},domProps:{\"srcObject\":_vm.videoStream}}),_c('video',{attrs:{\"autoplay\":\"\",\"playsinline\":\"\",\"controls\":\"false\"},domProps:{\"srcObject\":_vm.remoteVideoStream}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"Call\">\n    <p>{{$route.params.username}}</p>\n\n    <video :srcObject.prop=\"videoStream\" autoplay \n    playsinline controls=\"false\"></video>\n\n    <video :srcObject.prop=\"remoteVideoStream\" autoplay \n    playsinline controls=\"false\"></video>\n  </div>\n</template>\n\n<script>\nimport RTCService from '../util/RTCService'\n\nexport default {\n  name: 'Call',\n\n  data: ()=> {\n    return {\n      constraints: {\n        video: true,\n        audio: true\n      },\n\n      videoStream: null,\n      remoteVideoStream: null,\n\n      \n      iceCandidates: [],\n      iceConfiguration: {\n        iceServers: [\n          {\n            urls: ['stun:stun.l.google.com:19302']\n          },\n          {\n              urls: [process.env.VUE_APP_ENV_TURN],\n              username: process.env.VUE_APP_ENV_TURN_USERNAME,\n              credential: process.env.VUE_APP_ENV_TURN_CREDENTIAL\n          }\n        ]\n      },\n      pc: null,\n\n      otherUser: null\n    }\n  },\n\n  sockets: {\n    message: async function(message) {\n      if (message.offer) {\n        console.log('Got an offer')\n        this.pc.setRemoteDescription(new RTCSessionDescription(message.offer));\n        const answer = await this.pc.createAnswer();\n        \n        await this.pc.setLocalDescription(answer)\n        this.$socket.client.emit('answer', {answer: answer, reciver: this.otherUser})\n      } else if (message.candidate) {\n        console.log('Got and ice candidate through message')\n        try {\n        console.log('Addin ice candidate to peer connection')\n        await this.pc.addIceCandidate(message.candidate);\n        } catch (e) {\n        console.error('Error adding received ice candidate', e);\n        }\n      }\n    }\n  },\n\n  methods: {\n    async makeCall() {\n      //RTCServickeCall(this.pc, this.socket)\n      console.log('Making call')\n      this.$socket.$subscribe('message', async message => {\n        if (message.answer) {\n          console.log('Got an answer')\n          const remoteDesc = new RTCSessionDescription(message.answer)\n          await this.pc.setRemoteDescription(remoteDesc)\n        }\n      })\n      var mediaConstraints = {\n      'offerToReceiveAudio': true,\n      'offerToReceiveVideo': true    \n      }\n\n      const offer = await this.pc.createOffer(mediaConstraints)\n      await this.pc.setLocalDescription(offer)\n      this.$socket.client.emit('offer', {offer: offer, reciver: this.otherUser})\n    }\n\n  },\n\n  created: function() {\n    this.otherUser = this.$route.params.username\n\n    navigator.mediaDevices.getUserMedia(this.constraints)\n    .then(stream => {\n        console.log('Got MediaStream:', stream)\n        this.videoStream = stream\n        //add the tracks to RTCPeerConnection\n        this.videoStream.getTracks().forEach(track => {\n          this.pc.addTrack(track, this.videoStream)\n          console.log('Adding track to peer connection!')\n        })\n    })\n    .catch(error => {\n        console.error('Error accessing media devices.', error)\n    })\n\n    this.pc = new RTCPeerConnection(this.iceConfiguration)\n\n    // Listen for local ICE candidates on the local RTCPeerConnection\n    RTCService.onIceCandidate(this.pc, this.$socket.client, this.otherUser)\n\n    // Listen for connectionstatechange on the local RTCPeerConnection\n    RTCService.oneIceConnectionChange(this.pc)\n\n    //get the remote stream\n    this.remoteVideoStream = new MediaStream()\n    RTCService.onTrack(this.pc, this.remoteVideoStream)\n\n    if(this.$store.state.caller){\n      this.makeCall()\n    }\n  },\n\n  destroyed: function() {\n    //update vuex private call state\n    this.$store.dispatch('setPrivateCall', {callee: null})\n\n    this.$socket.$unsubscribe('message')\n  },\n\n\n\n  components: {\n  }\n}\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Call.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Call.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Call.vue?vue&type=template&id=3830b23e&scoped=true&\"\nimport script from \"./Call.vue?vue&type=script&lang=js&\"\nexport * from \"./Call.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3830b23e\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport Home from '../views/Home.vue'\nimport VideoChat from '../views/VideoChat.vue'\nimport Room from '../views/Room.vue'\nimport Register from '../views/Register'\nimport Login from '../views/Login'\nimport Index from '../views/Index.vue'\nimport Chat from '../views/Chat.vue'\nimport Call from '../views/Call.vue'\n\n\nVue.use(VueRouter)\n\nconst routes = [\n  {\n    path: '/',\n    name: 'Index',\n    component: Index\n  },\n  {\n    path: '/rooms',\n    name: 'Home',\n    component: Home\n  },\n  {\n    path: '/chat/:username',\n    name: 'Chat',\n    component: Chat\n  },\n  {\n    path: '/call/:username',\n    name: 'Call',\n    component: Call\n  },\n  {\n    path: '/video-chat',\n    name: 'VideoChatTest',\n    component: VideoChat\n  },\n  {\n    path: '/register',\n    name: 'Register',\n    component: Register\n  },\n  {\n    path: '/login',\n    name: 'Login',\n    component: Login\n  },\n  {\n    path: '/room/:roomName',\n    name: 'Room',\n    component: Room\n  },\n  {\n    path: '/about',\n    name: 'About',\n    // route level code-splitting\n    // this generates a separate chunk (about.[hash].js) for this route\n    // which is lazy-loaded when the route is visited.\n    component: () => import(/* webpackChunkName: \"about\" */ '../views/About.vue')\n  }\n]\n\nconst router = new VueRouter({\n  routes\n})\n\nexport default router\n","import Vue from 'vue'\nimport Vuex from 'vuex'\n\nimport router from '../router' // Vue router instance\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n  state: {\n    username: null,\n    email: null,\n    isLoggedIn: false,\n\n    inPrivateCall: false,\n    callee: null,\n    caller: false\n  },\n  mutations: {\n    setUser(state, creds) {\n      if(creds) {\n        state.isLoggedIn = true\n        state.username = creds.username\n        state.email = creds.email\n      } else {\n        state.isLoggedIn = false\n        state.username = null\n        state.email = null\n      }\n    },\n\n    setCall(state, {callee, caller}){\n      if(callee){\n        state.inPrivateCall = true\n        state.callee = callee\n      } else {\n        state.inPrivateCall = false\n        state.callee = null\n      }\n      state.caller = caller\n    }\n  },\n  actions: {\n    setUser({commit}, {creds, token}) {\n      commit('setUser', creds)\n\n      //store the token\n      localStorage.setItem('token', token)\n\n      //emit event\n      this._vm.$socket.client.emit('user-logged-in', {creds})\n    },\n    signOut({commit}, {creds}) {\n      commit('setUser', null)\n\n      localStorage.removeItem('token')\n\n      this._vm.$socket.client.emit('user-logged-out', {creds})\n    },\n\n    setPrivateCall({commit}, {callee, caller}){\n      commit('setCall', {callee, caller})\n      \n      if(callee)\n        router.push('/call/'+callee)\n      else\n        router.push('/')\n    }\n  },\n  modules: {\n  }\n})\n","import Vue from 'vue'\nimport Vuetify from 'vuetify/lib'\n\nVue.use(Vuetify)\n\nexport default new Vuetify({\n  theme: {\n    themes: {\n      light: {\n        primary: '#98D2EB',\n        secondary: '#B2B1CF'\n      },\n      dark: {\n        primary: '#111111'\n      }\n    }\n  }\n})\n","import Vue from 'vue'\nimport App from './App.vue'\nimport router from './router'\nimport store from './store'\nimport vuetify from './plugins/vuetify'\nimport VueSocketIOExt from 'vue-socket.io-extended'\nimport { io } from 'socket.io-client'\n\nconst socket = io(process.env.VUE_APP_ENV_BASE_URL);\nVue.use(VueSocketIOExt, socket, { store })\n\nVue.config.productionTip = false\n\nnew Vue({\n  router,\n  store,\n  vuetify,\n  render: h => h(App)\n}).$mount('#app')\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Chat.vue?vue&type=style&index=0&id=5e4f9e70&scoped=true&lang=css&\"","async function makeCall(pc, socket){\n  console.log('Making call')\n  socket.on('message', async message => {\n      if (message.answer) {\n      console.log('Got an answer')\n      const remoteDesc = new RTCSessionDescription(message.answer)\n      await pc.setRemoteDescription(remoteDesc)\n      }\n  })\n\n  var mediaConstraints = {\n  'offerToReceiveAudio': true,\n  'offerToReceiveVideo': true    \n  };\n\n  const offer = await pc.createOffer(mediaConstraints)\n  await pc.setLocalDescription(offer)\n  socket.emit('offer', offer)\n}\n\nfunction onMessageOffer(pc, socket){\n  socket.on('message', async message => {\n      if (message.offer) {\n          console.log('Got an offer')\n          pc.setRemoteDescription(new RTCSessionDescription(message.offer));\n          const answer = await pc.createAnswer();\n          \n          await pc.setLocalDescription(answer)\n          socket.emit('answer', answer)\n      }\n  })\n}\n\nfunction onIceCandidate(pc, socket, sender){\n  pc.addEventListener('icecandidate', event => {\n      console.log('Got an ice candidate: ', event.candidate)\n      if (event.candidate) {\n          socket.emit('new-ice-candidate', {candidate: event.candidate, reciver: sender})\n      }\n  })\n}\n\nfunction oneIceConnectionChange(pc){\n  pc.addEventListener('iceconnectionstatechange', event => {\n      console.log('Ice connection state changed: ', pc.iceConnectionState)\n      if (pc.iceConnectionState === 'connected') {\n          console.log('Peers connected', event)\n      }\n  })\n}\n\nfunction onMessageIceCandidate(pc, socket){\n  socket.on('message', async message => {\n      if (message.iceCandidate) {\n          console.log('Got and ice candidate through message')\n          try {\n          console.log('Addin ice candidate to peer connection')\n          await pc.addIceCandidate(message.iceCandidate);\n          } catch (e) {\n          console.error('Error adding received ice candidate', e);\n          }\n      }\n  })\n}\n\nfunction onTrack(pc, remoteVideoStream){\n  pc.addEventListener('track', async (event) => {\n      console.log('Got a track!!!')\n      remoteVideoStream.addTrack(event.track, remoteVideoStream)\n  })\n\n}\n\nfunction setupNewPc(pc, sender, reciver, socket){\n  pc.onicecandidate = function(event){\n    console.log('Got an ice candidate for: ', reciver)\n    console.log('pcstop', pc.stop)\n    if (event.candidate) {\n        socket.emit('new-ice-candidate', {candidate: event.candidate,\n          sender: sender, reciver: reciver})\n    }\n  }\n}\n\n\nfunction myOnTrack(reciver, pc, remoteVideoStreams){\n  //get the remote stream\n  pc.addEventListener('track', async (event) => {\n    console.log('Got a track from ', reciver)\n    let rvs = videoContains(reciver, remoteVideoStreams)\n    if(rvs){\n      rvs.mediaStream.addTrack(event.track, rvs.mediaStream)\n    } else {\n      let newMediaStream = new MediaStream()\n      newMediaStream.addTrack(event.track, newMediaStream)\n      let remoteStream = {username: reciver, mediaStream: newMediaStream}\n      remoteVideoStreams.push(remoteStream)\n    }\n  })\n}\n\nfunction myOnConnChange(pc){\n  pc.addEventListener('iceconnectionstatechange', (event) => {\n    console.log('Connection changed: ', pc.iceConnectionState)\n    if(pc.iceConnectionState === 'connected'){\n      console.log('Peers connected!!!', event)\n      pc.onicecandidate = null\n    }\n  })\n}\n\nfunction videoContains(username, remoteVideoStreams){\n  for(let rvs of remoteVideoStreams){\n    if(rvs.username === username) return rvs\n  }\n  return null\n}\n\nfunction setLocalStream(pc, videoStream){\n    //add local stream to pc\n    console.log('Setting local streams')\n    videoStream.getTracks().forEach(track => {\n      console.log('Adding tracks to peer connection!')\n      pc.addTrack(track, videoStream)\n    })\n}\n\n\n\n// ----- CONFERENCE VARIANTS -------\n\n\nexports.makeCall = makeCall\nexports.onMessageOffer = onMessageOffer\nexports.onIceCandidate = onIceCandidate\nexports.oneIceConnectionChange = oneIceConnectionChange\nexports.onMessageIceCandidate = onMessageIceCandidate\nexports.onTrack = onTrack\n\nexports.myOnTrack = myOnTrack\nexports.setupNewPc = setupNewPc\nexports.setLocalStream = setLocalStream\nexports.myOnConnChange = myOnConnChange\n\nexports.videoContains = videoContains","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sidebar.vue?vue&type=style&index=0&id=34d17a01&scoped=true&lang=css&\""],"sourceRoot":""}